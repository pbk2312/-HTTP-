# HTTP 메서드
* HTTP 메서드 - GET,POST
* HTTP 메서드 - PUT,PATCH,DELETE
* HTTP 메서드 속성


## API URI 고민
---
* 회원 목록 조회
* 회원 조회
* 회원 등록
* 회원 수정
* 회원 삭제
---

* 리소스?
  * 회원을 등록하고 수정하고 조회하는게 리소스가 아니다!!!
  * 예) 미네랄을 캐라 -> 미네랄이 리소스!!
  * 회원이라는 개념 자체가 바로 리소스!!
 
## 리소스와 행위를 분리
**가장 중요한 것은 리소스 식별!!**

* URI는 리소스 식별!
* 리소스와 해당 리소스를 대상으로 하는 **행위** 분리
  * 리소스: 회원
  * 행위:조회,등록,삭제,변경


## HTTP 메서드 종류
* GET: 리소스 조회
* POST: 요청 데이터 처리,주로 등록에 사용
* PUT:리소스를 대체,해당 리소스가 없으면 생성
  * 클라이언트에서 서버로 리소스를 보내는데 이 리소스로 대채해줘(파일 덮어쓰기와 비슷) 
* PATCH:리소스 부분 변경
  * 특정 필드 변경 
* DELETE:리소스 삭제


## GET
* 리소스 조회
* 서버에 전달하고 싶은 데이터는 query를 통해 전달
* 응답 메시지에 정보 포함 전달

## POST
* 요청 데이터 처리
* **메시지 바디를 통해 서버로 요청 데이터 전달**
* 서버는 요청 데이터를 처리
  * 메시지 바디를 통해 들어온 데이터를 처리하는 모든 기능 수행
* 주로 전달된 데이터로 신규 리소스 등록,프로세스 처리에 사용
* 요청 메시지에 정보 포함 전달
* POST는 서버에서 리소스 URI 결정

### POST 
1. 새 리소스 생성(등록)
    * 서버가 아직 식별하지 않은 새 리소스 생성
      
2. 요청 데이터 처리
    * 단순히 데이터를 생성하거나,변경하는 것을 넘어서 프로세스를 처리해야 하는 경우
    * POST의 결과로 새로운 리소스가 생성되지 않을 수도 있음
  
3. 다른 메서드로 처리 애매한 경우
    * 예) JSON으로 조회 데이터를 넘겨야 하는데 , GET 메서드를 사용하기 어려운 경우

### PUT
* 리소스 대체
  * 리소스가 있으면 대체
  * 리소스가 없으면 생성
  * 덮어쓰기
* 중요! 클라이언트가 리소스 식별!
   * 클라이언트가 리소스 위치를 알고 URI 지정
   * POST는 Location:/members/100 PUT은 {"username":"hello" ,"age" : 20}
   * 리소스를 완전히 대체

### PATCH
* 리소스 부분 변경 ( PATCH가 지원이 안돠면 POST 사용)


### DELETE
* 리소스 제거


## HTTP 메서드의 속성
* 안전
* 멱등
* 캐시 가능

### 안전
* 호출해도 리소스 변경 X
* GET은 안전,POST,PUT,PATCH는 안전 X
### 멱등
* 한번 호출하든지,두번 호출하든지,100번 호출해도 결과 똑같음
* 멱등 메서드
  * GET: 한번 조회하든 , 두번 조회하든 같은 결과 조회
  * PUT: 결과 대체한다.따라서 같은 요청 여러번해도 결과 똑같음
  * DELETE:결과 삭제.같은 요청 여러번 해도 삭제 결과 똑같음
  * POST: 멱등 X!! 두번 호출하면 같은 결제가 중복해서 발생!!
### 캐시 가능
* 응답 결과 리소스를 캐시해서 사용가능?
* GET/HEAD/POST/PATCH 캐시 가능(POST,PATCH는 본문 내용까지 캐시키로 고려해야해서 구현 쉽지 않음)
* 실제로는 GET/HEAD 정도만 캐시 사용


## 클라이언트에서 서버로 데이터 전송
**데이터 전달 방식은 크게 2가지**

* 쿼리 파라미터를 통한 데이터 전송
  * GET
  * 주로 정렬 필터(검색어)
* 메시지 바디를 통한 데이터 전송
  * POST,PUT,PATCH
  * 회원 가입,상품 주문,리소스 등록,리소스 변경
 

  **4가지 상황**
  * 정적 데이터 조회
  * 동적 데이터 조회
  * HTML Form을 통한 데이터 전송
  * HTTP API를 통한 데이터 전송

### 회원 관리 시스템
* 회원 목록 조회 - GET
* 회원 조회 - GET
* 회원 등록 - POST
* 회원 수정 - PATCH,PUT,POST
* 회원 삭제 - DELETE

 

 
  

   
